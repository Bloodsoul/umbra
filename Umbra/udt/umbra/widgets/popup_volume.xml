<udt>
    <node class="popup">
        <node class="preset-bar">
            <node class="presets">
                <node class="preset inactive" id="preset-1"><node class="icon" style="icon-id: 66162;"/></node>
                <node class="preset inactive" id="preset-2"><node class="icon" style="icon-id: 66163;"/></node>
                <node class="preset inactive" id="preset-3"><node class="icon" style="icon-id: 66164;"/></node>
                <node class="preset inactive" id="preset-4"><node class="icon" style="icon-id: 66165;"/></node>
                <node class="preset inactive" id="preset-5"><node class="icon" style="icon-id: 66166;"/></node>
            </node>
            <node class="preset-info">
                <node class="preset-name" value="N/A"/>
                <node class="controls">
                    <button-node id="btn-rename-preset" label="Rename" icon="Pen" is-small="true" is-ghost="false"/>
                </node>
            </node>
        </node>
        
        <node class="channel-list">
            <channel id="Master"/>
            <node class="separator"/>
            <channel id="BGM"/>
            <channel id="SFX"/>
            <channel id="VOC"/>
            <channel id="AMB"/>
            <channel id="SYS"/>
            <channel id="PERF"/>
        </node>
        <node class="options-list"/>
    </node>
    
    <template name="channel">
        <argument name="id"/>
        
        <node class="channel" id="${id}">
            <node class="name" value="${id}"/>
            <node class="value"/>
            <vertical-slider-node id="${id}_Slider" class="slider" style="anchor: top-center; size: 40 150;"/>
            <node class="buttons">
                <node class="button mute-button" value="FA(VolumeMute)"/>
                <node class="button bg-button" value="FA(PlusCircle)"/>
            </node>
        </node>
    </template>
    
    <![CDATA[
    .popup {
        flow: vertical;
        padding: 8;
        gap: 8;
        
        & > .preset-bar {
            flow: horizontal;
            auto-size: grow fit;
            gap: 8;
            
            & > .presets {
                flow: horizontal;
                gap: 4;
                auto-size: grow fit;
                
                & > .preset {
                    anchor: middle-left;
                    size: 42 42;
                    border-color: "Widget.PopupBorder";
                    border-width: 1;
                    background-color: "Input.Background";
                    padding: 2;
                    border-radius: 5;
                    
                    & > .icon {
                        size: 38;
                        border-radius: 4;
                        icon-id: 180023;
                    }
                    
                    &.inactive {
                        opacity: 0.5;
                        & > .icon {
                            image-grayscale: true;
                        }
                    }
                    
                    &:hover {
                        opacity: 0.9;
                        background-color: "Input.BackgroundHover";
                        border-color: "Input.BorderHover";
                    }
                }
            }
            
            & > .preset-info {
                flow: vertical;
                gap: 1;
                
                & > .preset-name {
                    anchor: middle-right;
                    auto-size: grow fit;
                    font-size: 13;
                    text-align: middle-right;
                    color: "Widget.PopupMenuText";
                    outline-color: "Widget.PopupMenuTextOutline";
                    outline-size: 1;
                    text-overflow: false;
                    word-wrap: false;
                }
                
                & > .controls {
                    anchor: middle-right;
                }
            }
        }
        
        & > .channel-list {
            gap: 8;
        }
        
        & > .options-list {
            auto-size: grow fit;
            flow: vertical;
            padding: 8;
            gap: 8;
        }
        
        .channel {
            flow: vertical;
            gap: 8;
            size: 48 0;
            padding: 4;
            border-radius: 7;
            background-color: 0x60000000;
            
            & > .name {
                anchor: top-center;
                size: 40 0;
                font: 0;
                font-size: 12;
                text-align: top-center;
                color: "Widget.PopupMenuText";
                outline-color: "Widget.PopupMenuTextOutline";
                outline-size: 1;
                text-overflow: false;
                word-wrap: false;
            }
            
            & > .value {
                anchor: top-center;
                size: 40 0;
                font-size: 12;
                text-align: top-center;
                color: "Widget.PopupMenuTextMuted";
                outline-color: "Widget.PopupMenuTextOutlineDisabled";
                outline-size: 1;
                text-overflow: false;
                word-wrap: false;
            }
            
            & > .buttons {
                anchor: top-center;
                flow: vertical;
                size: 40 0;
                gap: 4;
                
                & > .button {
                    anchor: top-center;
                    size: 24;
                    font: 2;
                    font-size: 12;
                    text-align: middle-center;
                    stroke-width: 1;
                    color: "Widget.PopupMenuTextMuted";
                    outline-color: "Widget.PopupMenuTextOutlineDisabled";
                    outline-size: 1;
                    
                    &:hover {
                        background-color: "Widget.Background";
                        stroke-color: "Widget.Border";
                    }
                }
            }
        }
    }    
    ]]>
</udt>